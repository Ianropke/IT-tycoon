<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IT-Tycoon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>IT-Tycoon</h1>
    <div id="scoreboard">
      <div id="scores">
        <span class="score-item">Tid: <span id="time-left">100</span></span>
        <span class="score-item">Penge: <span id="money-left">2000</span></span>
        <span class="score-item">Fuldf√∏rte: <span id="tasks-completed">0</span></span>

        <span class="score-item" style="color:#ff4444;">Sikkerhed: <span id="security-value">100</span></span>
        <span class="score-item" style="color:#44ff44;">Stabilitet: <span id="stability-value">100</span></span>
        <span class="score-item" style="color:#4444ff;">Udvikling: <span id="development-value">100</span></span>
        <span class="score-item" style="color:#ffc107;">Hospitalstilf.: <span id="hospital-satisfaction">100</span>%</span>
      </div>
    </div>
  </header>

  <div id="main-container">
    <!-- Venstre side: Lokationsbokse med grafik og tooltips -->
    <div id="game-area">
      <div class="location hoverTooltip" id="hospital" data-tooltip="Hospital: Her h√•ndteres kliniske opgaver og patientflows.">
        <span class="loc-icon">üè•</span> Hospital
      </div>
      <div class="location hoverTooltip" id="dokumentation" data-tooltip="Dokumentation: Her formuleres krav, procedurer og compliance.">
        <span class="loc-icon">üìÑ</span> Dokumentation
      </div>
      <div class="location hoverTooltip" id="leverandor" data-tooltip="Leverand√∏r: Her indg√•s aftaler og samarbejder med eksterne IT-partnere.">
        <span class="loc-icon">üì¶</span> Leverand√∏r
      </div>
      <div class="location hoverTooltip" id="infrastruktur" data-tooltip="Infrastruktur: Her styres netv√¶rk, servere, cloud mm.">
        <span class="loc-icon">üîß</span> Infrastruktur
      </div>
      <div class="location hoverTooltip" id="it-jura" data-tooltip="IT Jura: Her h√•ndteres lovkrav, GDPR og compliance.">
        <span class="loc-icon">‚öñÔ∏è</span> IT Jura
      </div>
      <div class="location hoverTooltip" id="cybersikkerhed" data-tooltip="Cybersikkerhed: Her styrkes systembeskyttelse med f.eks. firewall og antivirus.">
        <span class="loc-icon">üíª</span> Cybersikkerhed
      </div>
    </div>

    <!-- H√∏jre side: Aktiv opgave og Mulige opgaver -->
    <div id="task-side">
      <div id="active-task">
        <h2>Aktiv opgave</h2>
        <h3 id="active-task-headline">Ingen aktiv opgave</h3>
        <p id="active-task-description"></p>
        <div id="task-steps">
          <h4>Trin, der skal gennemf√∏res:</h4>
          <ul id="steps-list">
            <li>Ingen aktiv opgave</li>
          </ul>
        </div>
        <!-- Arkitekthj√¶lp-knap -->
        <button id="architect-help-btn" class="commit-button">F√• arkitekthj√¶lp</button>
      </div>

      <div id="available-tasks">
        <h2>Mulige opgaver</h2>
        <ul id="tasks-list">
          <li>Ingen opgaver tilg√¶ngelige</li>
        </ul>
      </div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 IT Tycoon ApS - L√¶ringsudgave</p>
  </footer>

  <!-- ========== MODALER ========== -->

  <!-- Intro Modal -->
  <div id="intro-modal" class="modal" style="display:flex;">
    <div class="modal-content">
      <h2>Velkommen til IT-Tycoon</h2>
      <p>
        Du har 100 tidsenheder og 2000 kr. Din mission er at opn√• mindst 110 i sikkerhed og 115 i udvikling.
        Undg√• for meget risiko i CAB ved at overholde dokumentationen.
      </p>
      <button id="intro-ok-btn" class="commit-button" style="background-color:#27ae60;">Kom i gang!</button>
    </div>
  </div>

  <!-- Tutorial Modal -->
  <div id="tutorial-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2 id="tutorial-title"></h2>
      <p id="tutorial-text"></p>
      <button id="tutorial-next-btn" class="commit-button" style="background-color:#2980b9;">N√¶ste</button>
    </div>
  </div>

  <!-- Scenario Intro Modal (viser opgaveskrivelsen efter Forpligt) -->
  <div id="scenario-intro-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2 id="scenario-intro-title"></h2>
      <p id="scenario-intro-text"></p>
      <button id="scenario-intro-close-btn" class="commit-button">OK</button>
    </div>
  </div>

  <!-- Scenario Modal (til trinvalg og "Mere info (trin)") -->
  <div id="scenario-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <div id="scenario-narrative" style="display:none; margin-bottom:8px; color:#f0dca0;"></div>
      <h2 id="scenario-title"></h2>
      <p id="scenario-flavor-text"></p>
      <div id="scenario-description"></div>
      
      <!-- digDeeperLinks til opgaveniveau -->
      <div id="dig-deeper-links" style="display:none; margin-bottom:8px;"></div>
      
      <div id="scenario-optionA">
        <strong>A: </strong><span id="scenario-a-label"></span><br/>
        <em id="scenario-a-text"></em>
      </div>
      <div id="scenario-optionB" style="margin-top:8px;">
        <strong>B: </strong><span id="scenario-b-label"></span><br/>
        <em id="scenario-b-text"></em>
      </div>
      
      <div style="margin-top:12px;">
        <button id="scenario-a-btn" class="commit-button" style="margin-right:8px;">V√¶lg A</button>
        <button id="scenario-b-btn" class="commit-button">V√¶lg B</button>
      </div>
    </div>
  </div>

  <!-- Arkitekthj√¶lp Modal -->
  <div id="architect-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <div id="architect-content"></div>
      <button class="commit-button" onclick="document.getElementById('architect-modal').style.display='none'">Luk</button>
    </div>
  </div>

  <!-- End-of-Time Modal -->
  <div id="end-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2>Tiden er g√•et!</h2>
      <p id="end-game-summary"></p>
      <button id="end-ok-btn" class="commit-button" style="background-color:#e74c3c;">Luk</button>
    </div>
  </div>

  <!-- CAB Modal -->
  <div id="cab-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2>Endelig CAB-gennemgang</h2>
      <p id="cab-summary"></p>
      <button id="cab-ok-btn" class="commit-button">Forts√¶t</button>
    </div>
  </div>

  <!-- CAB Result Modal -->
  <div id="cab-result-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h2 id="cab-result-title"></h2>
      <p id="cab-result-text"></p>
      <button id="cab-result-ok-btn" class="commit-button">OK</button>
    </div>
  </div>

  <!-- Task Summary Modal -->
  <div id="task-summary-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <div id="task-summary-text"></div>
      <button id="task-summary-ok-btn" class="commit-button" style="background-color:#27ae60;">OK</button>
    </div>
  </div>

  <!-- ‚ÄúMere Info‚Äù Modal (til ekstra information, fx fra ‚ÄúMere info (trin)‚Äù) -->
  <div id="more-info-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <div id="more-info-content"></div>
      <button id="more-info-close-btn" class="commit-button">Luk</button>
    </div>
  </div>

  <!-- Popup container og flydende tekst -->
  <div id="popup-container"></div>
  <div id="floating-text-container"></div>

  <!-- Indl√¶s task-filer -->
  <script src="scripts/tasks/hospitalTasks.js"></script>
  <script src="scripts/tasks/infrastrukturTasks.js"></script>
  <script src="scripts/tasks/cybersikkerhedTasks.js"></script>

  <!-- Hovedlogik i main.js -->
  <script src="scripts/main.js"></script>
</body>
</html>
